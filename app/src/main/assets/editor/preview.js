(function(t){function n(n){for(var r,a,u=n[0],c=n[1],d=n[2],l=0,s=[];l<u.length;l++)a=u[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&s.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);f&&f(n);while(s.length)s.shift()();return i.push.apply(i,d||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],r=!0,u=1;u<e.length;u++){var c=e[u];0!==o[c]&&(r=!1)}r&&(i.splice(n--,1),t=a(a.s=e[0]))}return t}var r={},o={preview:0},i=[];function a(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=r,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=n,u=u.slice();for(var d=0;d<u.length;d++)n(u[d]);var f=c;i.push([2,"chunk-vendors"]),e()})({"0b5f":function(t,n,e){"use strict";e.r(n);e("cadf"),e("551c"),e("f751"),e("097d"),e("7ac4");var r=e("a026"),o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"preview",staticClass:"global-rich-text",attrs:{id:"previewApp"},domProps:{innerHTML:t._s(t.content)}})},i=[],a=(e("28a5"),e("768b")),u=(e("ac6a"),e("4917"),e("a481"),{name:"App",data:function(){return{showContent:!1,imgList:[],content:""}},computed:{},mounted:function(){var t=this;this.$dodo.register("editor.setContent",(function(n){var e=n.content;t.content=e.replace(/<img [^>]+>/gi,(function(n){var e=n.match('src="([^"]+)?"')[1];return e?n.replace(e,"".concat(t.$utils.formatArticleImg(e,640))):""})),t.initContent()}))},methods:{postPreviewEnd:function(){var t=this;setTimeout((function(){t.$dodo.call("editor.previewLoadEnd",{scrollHeight:document.body.scrollHeight},(function(){}))}),300)},initContent:function(){var t=this;this.$nextTick((function(){var n=t.$refs.preview,e=[];n.querySelectorAll("img").forEach((function(n,r){e.push({resourceUrl:t.$utils.formatArticleImg(n.src,0),isOriginalPhoto:parseInt(n.getAttribute("data-origin")||0),size:parseInt(n.getAttribute("data-size")||0)}),n.onload=function(){t.postPreviewEnd()};var o=function(){t.$dodo.call("editor.previewOriginImage",{urls:e,currentIndex:r},(function(){}))};n.onclick=o})),t.postPreviewEnd(),t.imgList=e,n.querySelectorAll("[data-mention-id]").forEach((function(n){var e=n.getAttribute("data-mention-id"),r=(e||"0,10000,10000").split(","),o=Object(a["a"])(r,3),i=o[0],u=o[1],c=o[2];if(1===parseInt(i)){var d=function(){t.$utils.goUserCard({uid:u,islandId:c||""})};n.onclick=d}})),n.querySelectorAll("[data-channel-id]").forEach((function(n){var e=n.getAttribute("data-channel-id"),r=(e||"10000,102032").split(","),o=Object(a["a"])(r,2),i=o[0],u=o[1];n.onclick=function(){t.$utils.dodoJump("channel",{id:u,islandId:i})}})),n.querySelectorAll("[data-href]").forEach((function(n){var e=n.getAttribute("data-href");n.onclick=function(){t.$dodo.call("editor.executeScheme",{scheme:e},(function(){}))}})),n.querySelectorAll("[href]").forEach((function(n){var e=n.getAttribute("href");n.onclick=function(n){n.preventDefault(),t.$dodo.call("editor.executeScheme",{scheme:e},(function(){}))}}))}))}}}),c=u,d=(e("25cf"),e("2877")),f=Object(d["a"])(c,o,i,!1,null,null,null),l=f.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(l)}}).$mount("#app")},2:function(t,n,e){t.exports=e("0b5f")},"25cf":function(t,n,e){"use strict";e("9aeb")},"449c":function(t,n,e){"use strict";e("d988")},"7ac4":function(t,n,e){"use strict";var r={};e.r(r),e.d(r,"object",(function(){return m})),e.d(r,"toast",(function(){return E})),e.d(r,"formatParamToUrlSearch",(function(){return g})),e.d(r,"dodoJump",(function(){return _})),e.d(r,"goUserCard",(function(){return T})),e.d(r,"replaceResourceUrl",(function(){return b})),e.d(r,"formatArticleImg",(function(){return I})),e.d(r,"page",(function(){return S}));var o={};e.r(o),e.d(o,"BASE_URL",(function(){return A})),e.d(o,"ONLINE_BASE_URL",(function(){return w})),e.d(o,"FILE_PATH",(function(){return N})),e.d(o,"LOGIN_ACCOUNT",(function(){return P})),e.d(o,"TOKEN",(function(){return L})),e.d(o,"UID",(function(){return U})),e.d(o,"TEMPORARY_USER",(function(){return Y})),e.d(o,"CLIENT_TYPE",(function(){return D})),e.d(o,"UPDATE_USER_INFO_BY_TOKEN",(function(){return $})),e.d(o,"EVENTBUS_LOGIN",(function(){return x})),e.d(o,"LOGIN_SUCCESS",(function(){return C})),e.d(o,"LOGOUT",(function(){return M})),e.d(o,"REFRESH_LIST",(function(){return H})),e.d(o,"LISTING_DETAIL_UPDATE",(function(){return G})),e.d(o,"LISTING_INDEX_UPDATE",(function(){return R})),e.d(o,"LISTING_DETAIL_PUSH_ITEM",(function(){return j})),e.d(o,"APP_BACKED_EVENT",(function(){return k})),e.d(o,"ROUTER_PUSH_EVENT",(function(){return B})),e.d(o,"SELECT_LISTING_TAGS",(function(){return V})),e.d(o,"DODO_PAGE_EVENT",(function(){return q})),e.d(o,"GET_SYSTEM_INFO",(function(){return F})),e.d(o,"SET_NAVBAR_HEIGHT",(function(){return J}));var i=e("a026"),a=(e("4917"),e("a481"),e("7618")),u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"xc-message-toast"},[t._v("\n  "+t._s(t.message)+"\n")])},c=[],d={data:function(){return{message:"toast"}}},f=d,l=(e("449c"),e("2877")),s=Object(l["a"])(f,u,c,!1,null,"697a6854",null),p=s.exports,m={parse:function(t){return JSON.parse(t)},treeMapToQueryString:function(t,n,e){var r=v(t,n,e);return 0===r.indexOf("&")&&(r=r.substr(1,r.length)),r},objectToQueryString:function(t,n,e){var r=h(t,n,e);return 0===r.indexOf("&")&&(r=r.substr(1,r.length)),r}},v=function(t,n,e){if(null==t)return"";var r="",o=Object(a["a"])(t);return"string"===o||"number"===o||"boolean"===o?r+="&"+n+"="+(null===e||e?encodeURIComponent(t):t):t.each((function(o,i){var a=null==n?i:n+(t instanceof Array?"["+i+"]":"."+i);r+=h(o,a,e)})),r},h=function t(n,e,r){if(null==n)return"";var o="",i=Object(a["a"])(n);if("string"===i||"number"===i||"boolean"===i)o+="&"+e+"="+(null===r||r?encodeURIComponent(n):n);else for(var u in n){var c=null==e?u:e+(n instanceof Array?"["+u+"]":"."+u);o+=t(n[u],c,r)}return o},E=function(t){var n=t.message,e=document.createElement("div"),r=i["a"].extend(p),o=new r({el:e,data:function(){return{message:n}},mounted:function(){setTimeout((function(){document.body.removeChild(o.$el),o.$destroy()}),3e3)}});document.body.appendChild(o.$el)},g=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"?",e="";for(var r in t){var o=encodeURIComponent(t[r]);e+=(e?"&":n)+r+"="+o}return e},_=function(t,n){var e="dodolive://"+t+(n?g(n,t.indexOf("?")>-1?"&":"?"):"");i["a"].prototype.$dodo.call("editor.executeScheme",{scheme:e},(function(t){var n=t.status;0!==n&&E({message:"暂不支持,请升级至最新版"})}))},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.islandId,e=t.uid,r=void 0===e?0:e;_("userHomePage",{uid:r,islandId:n})},b=function(t){return t?t.replace(".doufan.tv",".imdodo.com"):t},I=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:618;if(t=b(t),n){var e=t.indexOf("?");return e>-1?t:t+"?x-oss-process=image/resize,m_lfit,w_"+n}var r=t.indexOf("?x-oss-process=image");return r>-1&&(t=t.substr(0,r)),t},S={single:function(){document.body.addEventListener("touchmove",(function(t){t.preventDefault()}),!1)},infos:function(){var t=window.navigator.userAgent.toLowerCase(),n=t.indexOf("android")>0,e=/iphone|ipad|ipod|ios/.test(t),r=-1!==t.indexOf("micromessenger"),o=t.indexOf("qq")>-1,i=t.match(/android/i)||t.match(/webos/i)||t.match(/iphone/i)||t.match(/ipad/i)||t.match(/ipod/i)||t.match(/blackberry/i)||t.match(/windows phone/i);return{UA:t,isAndroid:n,isIOS:e,isWechat:r,isQq:o,isMobile:i}}},O=e("5a0c"),y=e.n(O);i["a"].filter("_formatDateTime",(function(t){var n=Date.now()-t,e=6e4,r=36e5;if(n<e)return"刚刚";if(n<r)return Math.floor(n/e)+"分钟前";var o=y()(),i=y()(t);return o.format("YYYY-MM-DD")===i.format("YYYY-MM-DD")?"今天 ".concat(i.format("HH:mm")):o.format("YYYY-MM-DD")===i.add(1,"day").format("YYYY-MM-DD")?"昨天 ".concat(i.format("HH:mm")):o.format("YYYY")===i.format("YYYY")?"".concat(i.format("MM-DD HH:mm")):i.format("YYYY-MM-DD HH:mm")}));e("83de"),e("b751");var A="https://apis.mahuatalk.com",w="https://apis.mahuatalk.com",N="/img/",P="account",L="token",U="uid",Y="temporaryUser",D="CLIENT_TYPE",$="UPDATE_USER_INFO_BY_TOKEN",x="EVENTBUS_LOGIN",C="LOGIN_SUCCESS",M="LOGOUT",H="REFRESH_LIST",G="LISTING_DETAIL_UPDATE",R="LISTING_INDEX_UPDATE",j="LISTING_DETAIL_PUSH_ITEM",k="APP_BACKED_EVENT",B="ROUTER_PUSH_EVENT",V="SELECT_LISTING_TAGS",q="dodoPageEvent",F="GET_SYSTEM_INFO",J="SET_NAVBAR_HEIGHT",K=e("4eb5"),z=e.n(K),Q=new i["a"]({created:function(){var t=this;window.dodoNotify=function(){t.$emit(k)}}});i["a"].use(z.a);var X=e("7520");i["a"].prototype.$dayjs=y.a,i["a"].prototype.$bus=Q,i["a"].prototype.$utils=r,i["a"].prototype.$wx=r,i["a"].prototype.$consts=o,i["a"].prototype.$ba={trackEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=["_trackEvent",t,n,e];console.log("ba",o),window._hmt.push(o),i["a"].prototype.$ga&&i["a"].prototype.$ga.event&&i["a"].prototype.$ga.event(t,n,e,r)}},i["a"].prototype.$dodo={closePage:function(){return console.log("dodo.closePage"),X.closePage()},call:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return console.log("dodo.call",n),X.call.apply(X,n)},register:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return console.log("dodo.register",n),X.register.apply(X,n)}}},"83de":function(t,n){},"9aeb":function(t,n,e){},b751:function(t,n,e){},d988:function(t,n,e){}});